<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Visão Geral</title>
  <link rel="stylesheet" href="src/calendario/style.css" />
  <link rel="stylesheet" href="src/sidebar/style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" rel="stylesheet" />
</head>
<body id="body-pd">

  <header class="header" id="header"></header> 
  <div class="l-navbar" id="nav-bar"></div>

  <div class="cronograma">
    <p>Calendário</p>
  </div>
  <div><hr class="linha-separadora" /></div>

  <div class="text-calender">
    <h2 class="cm">Cronograma Mensal</h2>
    <h1 class="abril">MAIO 2025</h1>
  </div>

  <div class="calendario" id="calendario-grid">
    
  </div>


  <div class="modal" style="display:none;">
    <div class="modal-content">
      <span class="close-btn" id="closeModalBtn" style="cursor:pointer;">X</span>
      <h3>Adicionar Evento</h3>
      <input type="text" id="titulo-evento" placeholder="Título do Evento" />
      <select id="cor-evento">
        <option value="prova">Prova</option>
        <option value="revisao-materia">Revisão</option>
        <option value="entrega">Entrega</option>
        <option value="pauta">Reunião</option>
        <option value="descanso">Descanso</option>
      </select>
      <button id="salvarEventoBtn">Salvar</button>
      <div style="text-align: center; margin-top: 20px;">
        <button id="desfazerBtn" class="btn btn-warning">Desfazer</button>
      </div>
      <button id="resetCalendarBtn" class="btn btn-danger mt-3">Resetar Calendário</button>
    </div>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="src/calendario/main.js"></script>
  <script>
    fetch('sidebar.html')
      .then(response => response.text())
      .then(data => {
        const tempDiv = document.createElement('div');
        tempDiv.innerHTML = data;
        document.getElementById('header').innerHTML = tempDiv.querySelector('#header').innerHTML;
        document.getElementById('nav-bar').innerHTML = tempDiv.querySelector('#nav-bar').innerHTML;
        iniciarSidebar();
        inicializarCalendario(); 
      });

    function iniciarSidebar() {
      const toggleButton = document.getElementById('header-toggle');
      const navBar = document.getElementById('nav-bar');
      const bodyPd = document.getElementById('body-pd');
      const headerPd = document.getElementById('header');
      if (toggleButton && navBar && bodyPd && headerPd) {
        toggleButton.addEventListener('click', () => {
          navBar.classList.toggle('show');
          toggleButton.classList.toggle('bx-x');
          bodyPd.classList.toggle('body-pd');
          headerPd.classList.toggle('body-pd');
        });
      }
    }
  </script>
</body>
</html>